<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Lab 4 - Execution Context</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background: #f9f9f9;
    }

    h1,
    h2 {
      text-align: center;
      color: #2e7d32;
    }

    .section {
      margin-bottom: 3rem;
    }

    .code-block,
    .output-block,
    .env-block {
      background-color: #f4f4f4;
      padding: 1rem;
      border-left: 5px solid #4caf50;
      font-family: monospace;
      white-space: pre-wrap;
      margin: 1rem 0;
    }
  </style>
</head>

<body>
  <h1>Lab 4 - Execution Context</h1>

  <div class="section">
    <h2>Code 1</h2>
    <div class="code-block">
      let x;
      var a = 5;
      var b = 10;
      var c = function(a, b, c) {
      document.write(x);
      document.write(a);
      var f = function(a, b, c) {
      b = a;
      document.write(b);
      b = c;
      var x = 5;
      }
      f(a, b, c);
      document.write(b);
      var x = 10;
      }
      c(8, 9, 10);
      document.write(b);
      document.write(x);
    </div>

    <h3>What will be printed in strict mode:</h3>
    <div class="output-block">
      undefined
      8
      8
      9
      10
      undefined
    </div>

    <h3>Lexical Environment:</h3>
    <div class="env-block">
      1. Global EC creation:
      • Outer: null, LE: [{{ a: undefined, b: undefined, c: undefined }}], TDZ{{ x }}

      2. Global EC execution:
      • Outer: null, LE: [{{ x: undefined, a: 5, b: 10, c: fn }}], call C, output: [b:10, x:undefined], TDZ{{}}

      3. C FEC creation:
      • Outer: global, LE: [{{ arguments: obj, a: 8, b: 9, c: 10, f: undefined, x: undefined }}], TDZ{{}}

      4. C FEC execution:
      • Outer: global, LE: [{{ x: undefined, a: 8, b: 9, c: 10, f: fn }}], call f, output: [b:9], x:10, TDZ{{}}

      5. F FEC creation:
      • Outer: global, LE: [{{ arguments: obj, a: 8, b: 9, c: 10, x: undefined }}], TDZ{{}}

      6. F FEC execution:
      • Outer: global, LE: [{{ b: 8, output:[b:8], b:10, x:5 }}], TDZ{{}}
    </div>
  </div>

  <div class="section">
    <h2>Code 2</h2>
    <div class="code-block">
      var x = 9;
      function myFunction() {
      return x * x;
      }
      document.write(myFunction());
      x = 5;
      document.write(myFunction());
    </div>

    <h3>What will be printed in strict mode:</h3>
    <div class="output-block">
      81
      25
    </div>

    <h3>Lexical Environment:</h3>
    <div class="env-block">
      1. Global EC creation:
      • Outer: null, LE: [{{ x: undefined, myFunction: fn }}], TDZ{{}}

      2. Global EC execution:
      • Outer: null, LE: [{{ x: 9 }}], call myFunction, output:[81], x:5, call myFunction, output:[25]], TDZ{{}}

      3. myFunction FEC creation:
      • Outer: global, LE: [{{ arguments: {{}} }}], TDZ{{}}

      4. myFunction FEC execution:
      • Outer: global, LE: [{{ arguments: {{}} }}], TDZ{{}}

      5. myFunction FEC creation:
      • Outer: global, LE: [{{ arguments: {{}} }}], TDZ{{}}

      6. myFunction FEC execution:
      • Outer: global, LE: [{{ arguments: {{}} }}], TDZ{{}}
    </div>
  </div>

  <div class="section">
    <h2>Code 3</h2>
    <div class="code-block">
      var foo = 1;
      function bar() {
      if (!foo) {
      var foo = 10;
      }
      alert(foo);
      }
      bar();
    </div>

    <h3>What will be printed in strict mode:</h3>
    <div class="output-block">
      10 (via alert)
    </div>

    <h3>Lexical Environment:</h3>
    <div class="env-block">
      1. Global EC creation:
      • Outer: null, LE: [{{ foo: undefined, bar: fn }}], TDZ{{}}

      2. Global EC execution:
      • Outer: null, LE: [{{ foo: 1 }}], call bar, TDZ{{}}

      3. bar FEC creation:
      • Outer: global, LE: [{{ arguments: {{}}, foo: undefined }}], TDZ{{}}

      4. bar FEC execution:
      • Outer: global, LE: [{{ arguments: {{}}, foo: 10 }}, output[10]], TDZ{{}}
    </div>
  </div>

</body>

</html>